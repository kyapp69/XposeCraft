<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>XposeCraft API Test by scscgit</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">XposeCraft API Test</h1>
      <h2 class="project-tagline">Tutorial for the XposeCraft game in the form of a website.</h2>
      <a href="https://github.com/scscgit/XposeCraft-API-Test" class="btn">View on GitHub</a>
      <a href="https://github.com/scscgit/XposeCraft-API-Test/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/scscgit/XposeCraft-API-Test/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="vitajte-v-pomocníkovi-pre-hru-xposecraft" class="anchor" href="#vitajte-v-pomocn%C3%ADkovi-pre-hru-xposecraft" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Vitajte v pomocníkovi pre hru XposeCraft</h1>

<p>Hra <strong><a href="https://github.com/scscgit/XposeCraft">XposeCraft</a></strong> nie je obyčajná (zábavná) hra podobná hrám, ktoré sa ovládajú klávesnicou a myšou. Je to náučné prostredie určené na výučbu programovania v jazyku C#. Hru je potrebné hrať písaním zdrojového kódu robota, ktorý sa následne s hrou spojí a bude sa hrať samostatne. Ide o stratégiu, v ktorej je vašim cieľom zničiť všetky nepriateľské budovy skôr, než nepriateľ zničí tie vaše.</p>

<h1>
<a id="inštalácia-prostredia" class="anchor" href="#in%C5%A1tal%C3%A1cia-prostredia" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Inštalácia prostredia</h1>

<p>Pre programovanie odporúčam buď bezplatné vývojárske prostredie <strong><a href="https://www.visualstudio.com/cs/downloads/">Visual Studio Community</a></strong> od Microsoftu, alebo jednu z vhodných (lepších) alternatív, ktorou je nástroj od firmy JetBrains, keďže ho majú študenti k dispozícii zadarmo - <strong><a href="https://www.jetbrains.com/rider/">Rider</a></strong>. V čase písania bol v stave Early Build.</p>

<h1>
<a id="príprava-prostredia" class="anchor" href="#pr%C3%ADprava-prostredia" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Príprava prostredia</h1>

<p>Je potrebné stiahnuť súbory z tohto GitHub projektu. Najrýchlejší spôsob buď tlačidlo na vrchu tejto stránky, alebo na stránke <a href="https://github.com/scscgit/XposeCraft-API-Test/">https://github.com/scscgit/XposeCraft-API-Test/</a> vpravo kliknúť na tlačidlo Clone or download a zvoliť voľbu Download ZIP, prípadne kliknúť <a href="https://github.com/scscgit/XposeCraft-API-Test/archive/master.zip"></a>. Druhou alternatívou je lokálne si projekt pomocou Gitu naklonovať. Následne vo vašom obľúbenom C# editore projekt spustíte, napríklad otvorením súboru s príponou .sln v koreňovom adresári projektu.</p>

<hr>

<h1>
<a id="programátorské-rozhranie-hry-api" class="anchor" href="#program%C3%A1torsk%C3%A9-rozhranie-hry-api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Programátorské rozhranie hry (API)</h1>

<p>Jazyk, v ktorom je napísaná samotná hra a ktorý sa používa aj na písanie robota sa volá <strong>C#</strong>. Existujú rôzne návody vo forme kníh alebo webstránok, príkladmi sú jedna <strong><a href="https://www.tutorialspoint.com/csharp/csharp_basic_syntax.htm">anglická</a></strong> a jedna <strong><a href="http://programujte.com/clanky/34-serial-c/">česká</a></strong> stránka, ktoré sa zaoberajú úplnými základmi. Platí ale, že väčšinou už prvé lekcie pracujú s funkciami z rámca .NET, akou je napríklad <a href="https://msdn.microsoft.com/en-us/library/system.console.writeline(v=vs.110).aspx"><code>Console.WriteLine</code></a>. Počas programovania robota bude ale táto znalosť zbytočná, keďže sa neprogramuje aplikácia pre konzolu. Poskytujem ale podobnú funkcionalitu, ktorú je dobrovoľne možné využívať na písanie správ do výstupného logu zobrazovaného po spustení simulácie, napríklad cez <code>Log.i(object kontext, string sprava);</code>.</p>

<h2>
<a id="písanie-testov-a-overovanie-úspešnosti" class="anchor" href="#p%C3%ADsanie-testov-a-overovanie-%C3%BAspe%C5%A1nosti" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Písanie testov a overovanie úspešnosti</h2>

<p>Práca na vlastnom kóde robota prebieha výhradne v adresári (balíku) <strong><a href="https://github.com/scscgit/XposeCraft-API-Test/tree/master/XposeCraft%20API%20Test/Test">Test</a></strong>, nachádzajúcom sa v adresári projektu. Obsahuje 3 triedy s fázami hry prebiehajúcimi v nasledujúcom poradí:</p>

<ul>
<li>Economy - získavanie surovín,</li>
<li>Building - stavanie budov a jednotiek,</li>
<li>Battle - bojovanie s nepriateľom.</li>
</ul>

<p>Na voľbe umiestnenia kódu síce striktne nezáleží, ale dodržanie tejto štruktúry výrazne zlepší prehľadnosť kódu. Každá trieda obsahuje jednu hlavnú public void metódu, kde sa má nachádzať váš kód, a ktorá poskytuje cez vstupný parameter funkciu <code>startNextStage</code>, ktorej zavolanie ako <code>startNextStage();</code> spustí nasledujúcu fázu. Prvou fázou je teda EconomyStage. Okrem týchto tried je povolené ľubovoľné vytváranie ďalších tried. Príkladom je pripravená trieda <code>MyBot</code>.</p>

<p>Po akejkoľvek zmene je možnosť projekt spustiť a nechať zbehnúť testy, čím sa overí ako správnosť syntaxe, tak aj správne využitie funkcií.</p>

<p><strong>Upozornenie: Program je stále v testovacom štádiu, takže správnosť kódu nie je vôbec testovaná spoľahlivo, ide teda hlavne o kontrolu syntaxe - aby nebol odovzdaný úplne nepreložiteľný kód.</strong></p>

<h2>
<a id="diagram-tried-dostupného-rozhrania" class="anchor" href="#diagram-tried-dostupn%C3%A9ho-rozhrania" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Diagram Tried dostupného rozhrania</h2>

<p><a href="ClassDiagramGame.png"><img src="ClassDiagramGame.png" alt="Class Diagram"></a></p>

<h2>
<a id="návod-ku-programátorskému-rozhraniu-hry-api" class="anchor" href="#n%C3%A1vod-ku-program%C3%A1torsk%C3%A9mu-rozhraniu-hry-api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Návod ku programátorskému rozhraniu hry (API)</h2>

<p>Adresár (balíček) s poskytovaným API hry sa nazýva Game a na vyššie uvedenom obrázku sú znázornené všetky jeho časti. Táto sekcia obsahuje podrobný popis každej z nich, ale pozostáva iba z verejne viditeľných členov (public). Nadpis každej triedy obsahuje v zátvorke úplne jednoznačný názov, ktorý v prípade priloženia sekcie <code>using</code> nie je potrebné písať namiesto skráteného tvaru. Sekcia 'using' sa pre danú triedu vytvorí napríklad stlačením kombinácie kláves CTRL+BODKA vo Visual Studiu alebo ALT+ENTER pri používaní skratiek programu Rider nad názvom triedy v kóde a zvolením tejto voľby.</p>

<hr>

<h3>
<a id="trieda-event-xposecraft_ui_api_prototype_testgameevent" class="anchor" href="#trieda-event-xposecraft_ui_api_prototype_testgameevent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Trieda <strong>Event</strong> (XposeCraft_UI_API_Prototype_Test.Game.Event)</h3>

<p>Dátové členy:</p>

<ul>
<li>bool IsRegistered { get; }</li>
<li>EventType GameEvent { get; }</li>
<li>FunctionWithArguments Function { get; }</li>
</ul>

<p>Delegáty:</p>

<ul>
<li>delegate void FunctionWithArguments(Arguments args);</li>
</ul>

<p>Statické metódy:</p>

<ul>
<li>static Event Register(EventType gameEvent, FunctionWithArguments function)</li>
</ul>

<p>Metódy:</p>

<ul>
<li>void UnregisterEvent()</li>
</ul>

<p>Použitie:</p>

<ul>
<li>Na získanie inštancie registrovanej udalosti (Eventu) sa používa iba statická metóda Register. Táto udalosť zaregistruje v systéme udalostí, čo spôsobí, že pokiaľ v hre kedykoľvek nastane zvolená udalosť typu EventType, vykoná sa funkcia, ktorej vstupom budú argumenty súvisiace s aktuálnou udalosťou. Ak sa už vykonávanie funkcie v hre nevyžaduje, inštanciu registrovanej udalosti je potrebné odstránit zavolaním jej metódy UnregisterEvent(). Pred použitím udalosti sa pre viac detailov obráťťe na jej dokumentáciu.</li>
</ul>

<p>Príklad:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">var</span> <span class="pl-k">event</span> = Event.Register(EventType.EnemyUnitsOnSight, args =&gt; {
    <span class="pl-k">foreach</span>(Worker worker <span class="pl-k">in</span> UnitHelper.GetUnits&lt;Worker&gt;()) {
        worker.MoveTo(PlaceType.NearBase);
    }
});

<span class="pl-k">event</span>.UnregisterEvent();</pre></div>

<hr>

<h3>
<a id="trieda-unithelper-xposecraft_ui_api_prototype_testgamehelpersunithelper" class="anchor" href="#trieda-unithelper-xposecraft_ui_api_prototype_testgamehelpersunithelper" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Trieda <strong>UnitHelper</strong> (XposeCraft_UI_API_Prototype_Test.Game.Helpers.UnitHelper)</h3>

<p>Statické metódy:</p>

<ul>
<li>static IList GetUnitsAsList()  where UnitType : IUnit</li>
<li>static UnitType[] GetUnits() where UnitType : IUnit</li>
</ul>

<p>Použitie:</p>

<ul>
<li>Trieda pomocníka poskytuje možnosť staticky získať ľubovoľné vlastnené jednotky, ktoré má hráč možnosť ovládať. Vrátené jednotky budú iba tie, ktoré spĺňajú typ UnitType, takže pre vrátenie všetkých je možné použiť typ IUnit. Návratový typ môže byť buď list alebo pole.</li>
</ul>

<p>Príklad:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">if</span>(UnitHelper.GetUnits&lt;Worker&gt;().Length &lt; <span class="pl-c1">5</span>) {
    <span class="pl-k">foreach</span>(Worker worker <span class="pl-k">in</span> UnitHelper.GetUnits&lt;Worker&gt;()) {
        worker.MoveTo(PlaceType.NearBase);
    }
}</pre></div>

<hr>

<h1>
<a id="Úlohy" class="anchor" href="#%C3%9Alohy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Úlohy</h1>

<h3>
<a id="scenár-č-1-nastavenie-vývojárskeho-prostredia-pre-programovanie-robota" class="anchor" href="#scen%C3%A1r-%C4%8D-1-nastavenie-v%C3%BDvoj%C3%A1rskeho-prostredia-pre-programovanie-robota" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Scenár č. 1: Nastavenie vývojárskeho prostredia pre programovanie robota.</h3>

<ul>
<li>S1.1. Nájdite a prečítajte si (tento) návod na hranie, obsahujúci diagram tried rozhrania.<br>
</li>
<li>S1.2. Podľa návodu si nainštalujte vývojárske prostredie.<br>
</li>
<li>S1.3. Stiahnite a otvorte si projekt hry vo vývojárskom prostredí, cez ktoré hru úspešne spustíte.<br>
</li>
</ul>

<h3>
<a id="scenár-č-2-splnenie-základných-úloh-v-rámci-ekonomickej-fázy-hry-pre-získanie-dostatočného-množstva-surovín" class="anchor" href="#scen%C3%A1r-%C4%8D-2-splnenie-z%C3%A1kladn%C3%BDch-%C3%BAloh-v-r%C3%A1mci-ekonomickej-f%C3%A1zy-hry-pre-z%C3%ADskanie-dostato%C4%8Dn%C3%A9ho-mno%C5%BEstva-surov%C3%ADn" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Scenár č. 2: Splnenie základných úloh v rámci ekonomickej fázy hry pre získanie dostatočného množstva surovín.</h3>

<ul>
<li>S2.1. Hru ste začali s jednou budovou BaseBuilding a jedným pracovníkom Worker. Pošlite pracovníka zbierať suroviny.<br>
</li>
<li>S2.2. Čo najskôr ako to len bude možné, vytvorte štyroch ďalších pracovníkov a posielajte ich zbierať ďalšie suroviny.<br>
</li>
</ul>

<h3>
<a id="scenár-č-3-vytvorenie-budovy-a-vytváranie-jednotiek-použitím-nazbieraných-surovín" class="anchor" href="#scen%C3%A1r-%C4%8D-3-vytvorenie-budovy-a-vytv%C3%A1ranie-jednotiek-pou%C5%BEit%C3%ADm-nazbieran%C3%BDch-surov%C3%ADn" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Scenár č. 3: Vytvorenie budovy a vytváranie jednotiek použitím nazbieraných surovín.</h3>

<ul>
<li>S3.1. Počkajte, kým získate 150 minerálov a postavte prvú budovu NubianArmory blízko vašej prvej BaseBuilding.<br>
</li>
<li>S3.2. Čo najskôr vytvorte 5 bojovníkov s názvom DonkeyGun.<br>
</li>
</ul>

<h3>
<a id="scenár-č-4-zaútočenie-na-nepriateľa" class="anchor" href="#scen%C3%A1r-%C4%8D-4-za%C3%BAto%C4%8Denie-na-nepriate%C4%BEa" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Scenár č. 4: Zaútočenie na nepriateľa.</h3>

<ul>
<li>S4.1. Pošlite bojovníkov útočiť smerom k nepriateľovi a cestou útočte na nepriateľské jednotky.<br>
</li>
<li>S4.2. Vylepšite stratégiu aby vaše jednotky prežili čo najdlhšie a vyberali si iba vhodné momenty na útok.<br>
</li>
</ul>

<h1>
<a id="ukončenie-testu" class="anchor" href="#ukon%C4%8Denie-testu" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ukončenie testu</h1>

<p>Po vykonaní všetkých požadovaných testov stačí odovzdať váš zdrojový kód osobne dopredu dohodnutým spôsobom - stačí napríklad zazipovať adresár Test, keďže očakávam, že všetky zmeny nastali iba tam.</p>

<h1>
<a id="diskusia" class="anchor" href="#diskusia" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Diskusia</h1>

<div id="disqus_thread"></div>



Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/scscgit/XposeCraft-API-Test">XposeCraft API Test</a> is maintained by <a href="https://github.com/scscgit">scscgit</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
